AMANDA.CONF(5)           File formats and conventions           AMANDA.CONF(5)

NNAAMMEE
       amanda.conf - Main configuration file for Amanda, the Advanced Maryland
       Automatic Network Disk Archiver

DDEESSCCRRIIPPTTIIOONN
       aammaannddaa..ccoonnff(5) is the main configuration file for Amanda. This manpage
       lists the relevant sections and parameters of this file for quick
       reference.

       The file <<CCOONNFFIIGG__DDIIRR>>//aammaannddaa..ccoonnff is loaded if it exists then the files
       <<CCOONNFFIIGG__DDIIRR>>//<<ccoonnffiigg>>//aammaannddaa..ccoonnff is loaded.

SSYYNNTTAAXX
       There are a number of configuration parameters that control the
       behavior of the Amanda programs. All have default values, so you need
       not specify the parameter in aammaannddaa..ccoonnff if the default is suitable.

   CCOOMMMMEENNTTSS
       Lines starting with # are ignored, as are blank lines. Comments may be
       placed on a line with a directive by starting the comment with a #. The
       remainder of the line is ignored.

   KKEEYYWWOORRDDSS AANNDD IIDDEENNTTIIFFIIEERRSS
       Keywords are case insensitive, i.e.  mmaaiillttoo and MMaaiillTToo are treated the
       same. Also, the characters '--' and '__' are interchangeable in all
       predefined Amanda keywords: ddeevviiccee__pprrooppeerrttyy and ddeevviiccee--pprrooppeerrttyy have
       the same meaning. This manpage uses the dashed versions, but the
       underscored versions will be accepted for backward compatibility

       Identifiers are names which are defined in the configuration itself,
       such as dumptypes or interfaces. Identifiers are are case-insensitive,
       but sensitive to '--' vs. '__'. Identifiers should be quoted in the
       configuration file, although For historical reasons, the quotes are
       optional.

       Strings are always quoted with double quotes ("), and any double quotes
       or backslashes within the string are escaped with a backslash:

       tapelist "/path/to/tapelist"
       property "escaped-string" "escaping: \\ (backslash) and \" (double-quote)"

       To summarize, then:

                                 # QUOTES        CASE            -/_
       logdir "logs"             # required      sensitive       sensitive
       send-amreport-on strange  # prohibited    insensitive     insensitive
       tapetype "EXABYTE"        # optional      insensitive     sensitive

       define dumptype "dt" {    # optional      insensitive     sensitive
         "dumptype-common"       # optional      insensitive     sensitive
         strategy noinc          # prohibited    insensitive     insensitive
       }

   VVAALLUUEE SSUUFFFFIIXXEESS
       Integer arguments may have one of the following (case insensitive)
       suffixes, some of which have a multiplier effect:

       bb bbyyttee bbyytteess
           Some number of bytes.

       bbppss
           Some number of bytes per second.

       kk kkbb kkbbyyttee kkbbyytteess kkiilloobbyyttee kkiilloobbyytteess
           Some number of kilobytes (bytes*1024).

       kkppss kkbbppss
           Some number of kilobytes per second (bytes*1024).

           It is the default multiplier for all size options.

       mm mmbb mmeegg mmbbyyttee mmbbyytteess mmeeggaabbyyttee mmeeggaabbyytteess
           Some number of megabytes (bytes*1024*1024).

       mmppss mmbbppss
           Some number of megabytes per second (bytes*1024*1024).

       gg ggbb ggbbyyttee ggbbyytteess ggiiggaabbyyttee ggiiggaabbyytteess
           Some number of gigabytes (bytes*1024*1024*1024).

       tt ttbb ttbbyyttee ttbbyytteess tteerraabbyyttee tteerraabbyytteess
           Some number of terabytes (bytes*1024*1024*1024*1024).

       ttaappee ttaappeess
           Some number of tapes.

       ddaayy ddaayyss
           Some number of days.

       wweeeekk wweeeekkss
           Some number of weeks (days*7).

               NNoottee
               The value iinnff may be used in most places where an integer is
               expected to mean an infinite amount.

               Boolean arguments may have any of the values 11, yy, yyeess, tt, ttrruuee
               or oonn to indicate a true state, or 00, nn, nnoo, ff, ffaallssee or ooffff to
               indicate a false state. If no argument is given, ttrruuee is
               assumed.

   PPAARRAAMMEETTEERR OORRDDEERR
       In general, the order in which parameters occur in the configuration
       file does not matter, with the exception of subsection inheritance. For
       example, if dumptype "normal-encrypt" which inherits from dumptype
       "normal", then "normal" must appear first in the configuration file.

   SSTTRRIINNGGSS
       Quoted strings in Amanda follow a common, C-like syntax. Printable
       characters and whitespace are kept as-is, except that the backslash
       character (\) is used as an escape character, and a double-quote ends
       the string. The allowed escape sequences are

           ESCAPE SEQUENCE     BECOMES
           \\                  \
           \"                  "
           \n                  (newline)
           \t                  (tab)
           \r                  (carriage return)
           \f                  (form-feed)
           \1 - \7
           \01 - \77
           \001 - \377         (character specified in octal)
       Illegally quoted strings are handled on a "best-effort" basis, which
       may lead to unexpected results.

       Examples:

       finserver "/data/finance/XYZ Corp's \"real\" finances" finance-high eth0 -1
       property "syspath" "C:\\WINDOWS\\SYSTEM"

   SSUUBBSSEECCTTIIOONNSS AANNDD IINNHHEERRIITTAANNCCEE
       Amanda configuration files may include various _s_u_b_s_e_c_t_i_o_n_s, each
       defining a set of configuration directives. Each type of subsection is
       described below. Note that all types of subsections can _i_n_h_e_r_i_t from
       other subsections of the same type by naming the "parent" section in
       the "child" subsection. For example:

       define dumptype global {
           record yes
           index yes
       }

       define dumptype nocomp {
           global      # inherit the parameters in dumptype 'global'
           compress none
       }

       Note that multiple inheritance is also supported by simply naming
       multiple parent sections in a child. Parents are implicitly expanded in
       place in a child, and the last occurrence of each parameter takes
       precedence. For example,

       define tapetype par1 {
           comment "Parent 1"
           filemark 8k
           speed 300bps
           length 200M
       }
       define tapetype par2 {
           comment "Parent 2"
           filemark 16k
           speed 400bps
       }
       define tapetype child {
           par1
           par2
           filemark 32k
       }
       In this example, 'child' will have a filemark of 32k, a speed of
       400bps, and a length of 200M.

GGLLOOBBAALL PPAARRAAMMEETTEERRSS
       aammrreeccoovveerr--cchhaannggeerr _s_t_r_i_n_g
           Default: not set. Amrecover will use the changer if you use
           'settape <string>' and that string is the same as the
           aammrreeccoovveerr--cchhaannggeerr setting.

       aammrreeccoovveerr--cchheecckk--llaabbeell _b_o_o_l
           Deprecated; amrecover always checks the label, and does not invoke
           amrestore.

           Default: oonn. Amrecover will call amrestore with the -l flag to
           check the label.

       aammrreeccoovveerr--ddoo--ffssff _b_o_o_l
           Deprecated; amrecover always uses fsf, and does not invoke
           amrestore.

           Default: oonn. Amrecover will call amrestore with the -f flag for
           faster positioning of the tape.

       aauuttoofflluusshh nnoo|yyeess|aallll
           Default: nnoo. Whether an amdump run will flush the dumps from
           holding disk to tape. With yyeess, only dump matching the command line
           argument are flushed. With aallll, all dump are flushed.

       aauuttoollaabbeell _s_t_r_i_n_g [aannyy] [ootthheerr--ccoonnffiigg] [nnoonn--aammaannddaa] [vvoolluummee--eerrrroorr]
       [eemmppttyy]
           Default: not set. When set, this directive will cause Amanda to
           automatically write an Amanda tape label to most volume she
           encounters. This option is DANGEROUS because when set, Amanda may
           erase near-failing tapes or tapes accidentally loaded in the wrong
           slot.

           When using this directive, specify the template for new tape
           labels. The template can contains many variables that are
           substituted by their values:

               $c : config name
               $o : org configuration
               $b : barcode of the volume
               $s : slot number, can specify a minimun number of digit:
                    $3s to get '001'
               $m : meta label
               $r : storage name

           The template can contain some number of contiguous '%' characters,
           which will be replaced with a generated number (000-999), or some
           number of contiguous '!', which will be replaced with a generated
           letter sequence (AAA-ZZZ). Be sure to specify enough '%' or '!'
           characters that you do not run out of tape labels. Example:
           ""DDaaiillyySSeett11--%%%%%%"", ""DDaaiillyySSeett11--!!!!!!"", ""$$cc--%%%%%%"", ""$$mm--%%%%%%"", ""$$mm--$$bb""

           The generared label can be used only if it match the llaabbeellssttrr
           setting. The volume will not be used if the generated label doesn't
           match the llaabbeellssttrr setting.

           Note that many devices cannot distinguish an empty tape from an
           error condition, so it may is often necessary to include
           vvoolluummee--eerrrroorr as an autolabel condition.

           aannyy
               equivalent to 'ootthheerr--ccoonnffiigg nnoonn--aammaannddaa vvoolluummee--eerrrroorr eemmppttyy'

           ootthheerr--ccoonnffiigg
               Label volumes with a valid Amanda label that do not match our
               llaabbeellssttrr. Danger: this may erase volumes from other Amanda
               configurations without warning!

           nnoonn--aammaannddaa
               Label volumes which do not start with data that resembles an
               Amanda header. Danger: this may erase volumes from other backup
               applications without warning!

           vvoolluummee--eerrrroorr
               Label volumes where an error occurs while trying to read the
               label.  Danger: this may erase arbitrary volumes due to
               transient errors.

           eemmppttyy
               Label volumes where a read returns 0 bytes.

       bbuummppddaayyss _i_n_t
           Default: _2 _d_a_y_s. To insure redundancy in the dumps, Amanda keeps
           filesystems at the same incremental level for at least bbuummppddaayyss
           days, even if the other bump threshold criteria are met.

           The global setting of this parameter can be overwritten inside of a
           dumptype-definition.

       bbuummppmmuulltt _f_l_o_a_t
           Default: _1_._5. The bump size multiplier. Amanda multiplies bbuummppssiizzee
           by this factor for each level. This prevents active filesystems
           from bumping too much by making it harder to bump to the next
           level. For example, with the default bbuummppssiizzee and bbuummppmmuulltt set to
           2.0, the bump threshold will be 10 Mbytes for level one, 20 Mbytes
           for level two, 40 Mbytes for level three, and so on.

           The global setting of this parameter can be overwritten inside of a
           dumptype-definition.

       bbuummppppeerrcceenntt _i_n_t
           Default: _0. The minimum savings required to trigger an automatic
           bump from one incremental level to the next, expressed as
           percentage of the current size of the DLE (size of current level
           0). If Amanda determines that the next higher backup level will be
           this much smaller than the current level, it will do the next
           level.

           If this parameter is set to 0, the value of the parameter _b_u_m_p_s_i_z_e
           is used to trigger bumping.

           The global setting of this parameter can be overwritten inside of a
           dumptype-definition.

           See also the options bbuummppssiizzee, bbuummppmmuulltt and bbuummppddaayyss.

       bbuummppssiizzee _i_n_t
           Default: _1_0 _M_b_y_t_e_s. The minimum savings required to trigger an
           automatic bump from one incremental level to the next, expressed as
           size. If Amanda determines that the next higher backup level will
           be this much smaller than the current level, it will do the next
           level. The value of this parameter is used only if the parameter
           _b_u_m_p_p_e_r_c_e_n_t is set to 0.

           The default unit is Kbytes if it is not specified.

           The global setting of this parameter can be overwritten inside of a
           dumptype-definition.

           See also the options bbuummppppeerrcceenntt, bbuummppmmuulltt and bbuummppddaayyss.

       cchhaannggeerrddeevv _s_t_r_i_n_g
           Default: _"_d_e_v_/_n_u_l_l_". A tape changer configuration parameter. Usage
           depends on the particular changer defined with the ttppcchhaannggeerr
           option.

       cchhaannggeerrffiillee _s_t_r_i_n_g
           Default: _"_c_h_a_n_g_e_r_". This option is deprecated; use the cchhaannggeerrffiillee
           in the cchhaannggeerr section. Only chg-multi use it. A file where the
           changer store its state.

       ccoolluummnnssppeecc _s_t_r_i_n_g
           default:
           "HostName=0:-12:12,Disk=1:-11:11,Level=1:-1:1,OrigKB=1:-7:0,OutKB=1:-7:0,Compress=1:-6:1,DumpTime=1:-7:7,Dumprate=1:-6:1,TapeTime=1:-6:6,TapeRate=1:-6:1"

           Defines the width of columns aammrreeppoorrtt should use.  _S_t_r_i_n_g is a
           comma (',') separated list of triples. Each triple consists of four
           parts which are separated by a equal sign ('=') and a colon (':')
           (see the example). These four parts specify:

            1. the name of the column, which may be:

                    Compress (compression ratio)
                    Disk (client disk name)
                    DumpRate (dump rate in KBytes/sec)
                    DumpTime (total dump time in hours:minutes)
                    HostName (client host name)
                    Level (dump level)
                    OrigKB (original image size in KBytes)
                    OutKB (output image size in KBytes)
                    TapeRate (tape writing rate in KBytes/sec)
                    TapeTime (total tape time in hours:minutes)

            2. the amount of space to display before the column (used to get
               whitespace between columns).

            3. the width of the column itself. If set to a negative value, the
               width will be calculated on demand to fit the largest entry in
               this column.

            4. the precision of the column, number of digit after the decimal
               point for number.

           Parts may be omitted, and will adopt a default value; trailing
           colons may also be omitted.

           Here is an example:

           columnspec "Disk=1:18,HostName=0:10,OrigKB=::2,OutKB=1:7"

           The above will display the disk information in 18 characters and
           put one space before it. The hostname column will be 10 characters
           wide with no space to the left. The Original KBytes print 2 decimal
           digit. The output KBytes column is seven characters wide with one
           space before it.

       ccoommmmaanndd--ffiillee _s_t_r_i_n_g
           Default: _c_o_m_m_a_n_d___f_i_l_e. A file where amanda store information about
           running job.

           See aammaannddaa--ccoommmmaanndd--ffiillee(5).

       ccoommpprreessss--iinnddeexx _b_o_o_l_e_a_n
           Default: _y_e_s. Compress all index files, this is useful to save
           space in the iinnddeexxddiirr but require more processing.

           The compression ratio is generaly above 20x, it is faster to read
           compressed index files because there is 20 times less data to read
           from disk.

           Changing this setting will uncompress/compress all index files.

       ccoonnnneecctt--ttrriieess _i_n_t
           Default: _3. How many times the server will try a connection.

       ccttiimmeeoouutt _i_n_t
           Default: _3_0 _s_e_c_o_n_d_s. Maximum amount of time that aammcchheecckk will wait
           for each client host.

       ddeebbuugg--aauutthh _i_n_t
           Default: _0. Debug level of the auth module

       ddeebbuugg--cchhuunnkkeerr _i_n_t
           Default: _0. Debug level of the chunker process

       ddeebbuugg--ddaayyss _i_n_t
           Default: _3. The number of days the debug files are kept.

       ddeebbuugg--ddrriivveerr _i_n_t
           Default: _0. Debug level of the driver process

       ddeebbuugg--dduummppeerr _i_n_t
           Default: _0. Debug level of the dumper process

       ddeebbuugg--eevveenntt _i_n_t
           Default: _0. Debug level of the event module

       ddeebbuugg--hhoollddiinngg _i_n_t
           Default: _0. Debug level of the holdingdisk module

       ddeebbuugg--ppllaannnneerr _i_n_t
           Default: _0. Debug level of the planner process

       ddeebbuugg--pprroottooccooll _i_n_t
           Default: _0. Debug level of the protocol module

       ddeebbuugg--rreeccoovveerryy _i_n_t
           Default: _1. Debug level of all recovery process

       ddeebbuugg--ttaappeerr _i_n_t
           Default: _0. Debug level of the taper process

       ddeevviiccee--oouuttppuutt--bbuuffffeerr--ssiizzee _i_n_t
           Default: _1_2_8_0_k. Controls the amount of memory used by Amanda to
           hold data as it is read from the network or disk before it is
           written to the output device. Higher values may be useful on fast
           tape drives and optical media.

           The default unit is bytes if it is not specified.

       ddeevviiccee--pprrooppeerrttyy _s_t_r_i_n_g _s_t_r_i_n_g
           These options can set various device properties. See aammaannddaa--
           ddeevviicceess(7) for more information on device properties and their
           syntax. Both strings are always quoted; the first string contains
           the name of the property to set, and the second contains its value.
           For example, to set a fixed block size of 128k, write:
           device-property "BLOCK_SIZE" "128k"

       ddiisskkffiillee _s_t_r_i_n_g
           Default: _"_d_i_s_k_l_i_s_t_". The file name for the _d_i_s_k_l_i_s_t file holding
           client hosts, disks and other client dumping information.

       ddiissppllaayyuunniitt "k|m|g|t"
           Default: _"_k_". The unit used to print many numbers, k=kilo, m=mega,
           g=giga, t=tera.

       ddttiimmeeoouutt _i_n_t
           Default: _1_8_0_0 _s_e_c_o_n_d_s. Amount of idle time per disk on a given
           client that a dduummppeerr running from within aammdduummpp will wait before it
           fails with a data timeout error.

       dduummppccyyccllee _i_n_t
           Default: _1_0 _d_a_y_s. The number of days in the backup cycle. Each disk
           will get a full backup at least this often. Setting this to zero
           tries to do a full backup each run.

               NNoottee
               This parameter may also be set in a specific dduummppttyyppee (see
               below). This value sets the default for all dduummppttyyppees so must
               appear in aammaannddaa..ccoonnff before any dduummppttyyppees are defined.

       dduummppoorrddeerr _s_t_r_i_n_g
           Default: _"_t_t_t_T_T_T_T_T_T_T_". The priority order of each dumper:

           s: smallest size
           S: largest size
           t: smallest time
           T: largest time
           b: smallest bandwidth
           B: largest bandwidth

       dduummppuusseerr _s_t_r_i_n_g
           Default: _"_a_m_a_n_d_a_". The login name Amanda uses to run the backups.
           The backup client hosts must allow access from the tape server host
           as this user via ..rrhhoossttss or ..aammaannddaahhoossttss, depending on how the
           Amanda software was built.

       eejjeecctt--vvoolluummee _b_o_o_l
           Default: _n_o. Set to yyeess if you want the volume to be ejected after
           Amanda wrote data to it. It works only with some changer and
           device.

       eettiimmeeoouutt _i_n_t
           Default: _3_0_0 _s_e_c_o_n_d_s. Amount of time per estimate on a given client
           that the ppllaannnneerr step of aammdduummpp will wait to get the dump size
           estimates (note: Amanda runs up to 3 estimates for each DLE). For
           instance, with the default of 300 seconds and four DLE's, each
           estimating level 0 and level 1 on client A, ppllaannnneerr will wait up to
           40 minutes for that machine. A negative value will be interpreted
           as a total amount of time to wait per client instead of per disk.

       fflluusshh--tthhrreesshhoolldd--dduummppeedd _i_n_t
           Default: _0. Amanda will not begin writing data to a new volume
           until the amount of data on the holding disk is at least this
           percentage of the volume size and the criterion for
           flush-threshold-scheduled is also met. In other words, Amanda will
           not begin until the amount of data on the holding disk is greater
           than the tape length times this parameter. This parameter may be
           larger than 100%, for example to keep more recent dumps on the
           holding disk for faster recovery.

           Needless to say, your holding disk must be big enough that this
           criterion could be satisfied. If the holding disk cannot be used
           for a particular dump (because, for example, there is no remaining
           holding space) then Amanda will disregard the constraint specified
           by this setting and start a new volume anyway. Once writing to a
           volume has begun, this constraint is not applied unless and until a
           new volume is needed.

           The value of this parameter may not exceed than that of the
           fflluusshh--tthhrreesshhoolldd--sscchheedduulleedd parameter.

       fflluusshh--tthhrreesshhoolldd--sscchheedduulleedd _i_n_t
           Default: _0. Amanda will not begin writing data to a new volume
           until the sum of the amount of data on the holding disk and the
           estimated amount of data remaining to be dumped during this run is
           at least this percentage of the volume size and the criterion for
           flush-threshold-dumped is also met. In other words, Amanda will not
           begin until the inequality h + s > t × d is satisfied, where h is
           the amount of data on the holding disk, s is the total amount of
           data scheduled for this run but not dumped yet, t is the capacity
           of a volume, and d is this parameter, expressed as a percentage.
           This parameter may be larger than 100%.

           Needless to say, your holding disk must be big enough that this
           criterion could be satisfied. If the holding disk cannot be used
           for a particular dump (because, for example, there is no remaining
           holding space) then Amanda will disregard the constraint specified
           by this setting and start a new volume anyway. Once writing to a
           volume has begun, this constraint is not applied unless and until a
           new volume is needed.

           The value of this parameter may not be less than that of the
           fflluusshh--tthhrreesshhoolldd--dduummppeedd or ttaappeerrfflluusshh parameters.

       iinncclluuddeeffiillee _s_t_r_i_n_g
           Default: _n_o _d_e_f_a_u_l_t. The name of an Amanda configuration file to
           include within the current file. Useful for sharing dumptypes,
           tapetypes and interface definitions among several configurations.
           Relative pathnames are relative to the configuration directory.

       iinnddeexxddiirr _s_t_r_i_n_g
           Default _"_/_u_s_r_/_a_d_m_/_a_m_a_n_d_a_/_i_n_d_e_x_". The directory where index files
           (backup image catalogues) are stored. Index files are only
           generated for filesystems whose dduummppttyyppee has the iinnddeexx option
           enabled.

       iinnffooffiillee _s_t_r_i_n_g
           Default: _"_/_u_s_r_/_a_d_m_/_a_m_a_n_d_a_/_c_u_r_i_n_f_o_". The file or directory name for
           the historical information database. If Amanda was configured to
           use DBM databases, this is the base file name for them. If it was
           configured to use text formatted databases (the default), this is
           the base directory and within here will be a directory per client,
           then a directory per disk, then a text file of data.

       iinnppaarraalllleell _i_n_t
           Default: _1_0. The maximum number of backups that Amanda will attempt
           to run in parallel. Amanda will stay within the constraints of
           network bandwidth and holding disk space available, so it doesn't
           hurt to set this number a bit high. Some contention can occur with
           larger numbers of backups, but this effect is relatively small on
           most systems.

       iinntteerraaccttiivviittyy _s_t_r_i_n_g
           Default: not set. The interactivity module Amanda should use to
           interact with the user. See aammaannddaa--iinntteerraaccttiivviittyy(7) for a list of
           modules.

       llaabbeellssttrr _s_t_r_i_n_g | MMAATTCCHH--AAUUTTOOLLAABBEELL
           Default: MMAATTCCHH--AAUUTTOOLLAABBEELL. The tape label constraint regular
           expression. All tape labels generated (see aammllaabbeell(8)) and used by
           this configuration must match the regular expression. All aauuttoollaabbeell
           variable can be used. The keywork MMAATTCCHH--AAUUTTOOLLAABBEELL use the autolabel
           template as expression.

           If multiple configurations are run from the same tape server host,
           it is helpful to set their labels to different strings (for
           example, "DAILY[0-9][0-9]*" vs. "ARCHIVE[0-9][0-9]*") to avoid
           overwriting each other's tapes.

       llaabbeell--nneeww--ttaappeess _s_t_r_i_n_g
           Deprecated, use aauuttoollaabbeell option with options vvoolluummee--eerrrroorr eemmppttyy to
           get equivalent behavior.

           Default: not set. When set, this directive will cause Amanda to
           automatically write an Amanda tape label to any blank tape she
           encounters.

       llooggddiirr _s_t_r_i_n_g
           Default: _"_/_u_s_r_/_a_d_m_/_a_m_a_n_d_a_". The directory for the aammdduummpp and lloogg
           files.

       mmaaiilleerr _s_t_r_i_n_g
           Default found by configure. A mail program that can send mail with
           '_M_A_I_L_E_R _-_s _"_s_u_b_j_e_c_t_" _u_s_e_r _< _m_e_s_s_a_g_e___f_i_l_e'.

       mmaaiillttoo _s_t_r_i_n_g
           Default: none. A space separated list of recipients for mail
           reports. If not specified, amdump will not send any mail.

       mmaaxxdduummppss _i_n_t
           Default: _1. The maximum number of backups from a single host that
           Amanda will attempt to run in parallel. See also the iinnppaarraalllleell
           option.

           Note that this parameter may also be set in a specific dduummppttyyppee
           (see below). This value sets the default for all dduummppttyyppees so must
           appear in aammaannddaa..ccoonnff before any dduummppttyyppees are defined.

       mmaaxxdduummppssiizzee _i_n_t
           Default: rruunnttaappeess_*ttaappee--lleennggtthh. Maximum number of bytes the planner
           will schedule for a run.

           The default unit is Kbytes if it is not specified.

       mmaaxx--ddllee--bbyy--vvoolluummee _i_n_t
           Default: _1_0_0_0_0_0_0_0_0_0. The maximum number of dle written to a single
           volume.

       mmeettaa--aauuttoollaabbeell _s_t_r_i_n_g
           Default: not set. When set and if the changer support meta-label,
           this directive will cause Amanda to automatically add a meta-label
           to a meta-volume.

           A meta-volume is a containers that contains many volumes, eg. a
           removable hard-disk for use with chg-disk, each hard disk have many
           slots (volume). The meta-label is the label to put on the
           meta-volume.

           When using this directive, specify the template for new meta
           labels. The template can contains many variables that are
           substituted by their values:

               $c : config name
               $o : org configuration
               $r : storage name

           The template can contain some number of contiguous '%' characters,
           which will be replaced with a generated number (000-999), or some
           number of contiguous '!', which will be replaced with a generated
           letter sequence (AAA-ZZZ). Be sure to specify enough '%' characters
           that you do not run out of meta labels. Example: ""DDaaiillyySSeett11--%%%%%%"",
           ""DDaaiillyySSeett11--!!!!!!"", ""$$oo--%%%%%%"", ""$$oo--!!!!!!"", ""$$cc--!!!!!!"",

       nneettuussaaggee _i_n_t
           Default: _8_0_0_0_0 _K_b_p_s. The maximum network bandwidth allocated to
           Amanda, in Kbytes per second. See also the iinntteerrffaaccee section.

       oorrgg _s_t_r_i_n_g
           Default: _"_d_a_i_l_y_". A descriptive name for the configuration. This
           string appears in the Subject line of mail reports. Each Amanda
           configuration should have a different string to keep mail reports
           distinct.

       pprriinntteerr _s_t_r_i_n_g
           Printer to use when doing tape labels. See the llbbll--tteemmppll ttaappeettyyppee
           option.

       pprrooppeerrttyy [aappppeenndd] _s_t_r_i_n_g _s_t_r_i_n_g+
           These options can set various properties, they can be used by third
           party software to store information in the configuration file. Both
           strings are quoted; the first string contains the name of the
           property to set, and the others contains its values.  aappppeenndd
           keyword append the values to the list of values for that property.

       rreeccoovveerryy--lliimmiitt [ _s_t_r_i_n_g | ssaammee--hhoosstt | sseerrvveerr]
           Default: none (no limitations). This parameter limits the hosts
           that may do recoveries. Hosts are identified by their authenticated
           peer name, as described in aammaannddaa--aauutthh(7); if this is not available
           and the recovery-limit parameter is present, recovery will be
           denied. The arguments to the parameter are strings giving host
           match expressions (see aammaannddaa--mmaattcchh(7)) or the special keywords
           ssaammee--hhoosstt or sseerrvveerr. The ssaammee--hhoosstt keyword requires an exact match
           to the hostname of the DLE being recovered. The sseerrvveerr keyword
           require the connection come from the fqdn of the server. Specifying
           no arguments at all will disable all recoveries from any host.

           Note that match expressions can be constructed to be forgiving of
           e.g., fully-qualified vs. unqualified hostnames, but ssaammee--hhoosstt
           requires an exact match.

           The error messages that appear in amrecover are intentionally vague
           to avoid information leakage. Consult the amindexd debug log for
           more details on the reasons a recovery was rejected.

           Recovery limits can be refined on a per-DLE basis using the
           dumptype parameter of the same name. Note that the default value
           will apply to any dumpfiles for disks which no longer appear in the
           disklist; thus leaving the global parameter at its default value
           but setting it for all DLEs is not sufficient to maintain secure
           backups.

       rreeppoorrtt--ffoorrmmaatt [aappppeenndd] _s_t_r_i_n_g+
           Default: _N_o_t _s_e_t. The formats amdump, amflush and amvault use when
           invoking amreport.

       rreeppoorrtt--nneexxtt--mmeeddiiaa _b_o_o_l_e_a_n
           Default: _T_r_u_e if mmaaxx--ddllee--bbyy--vvoolluummee is not set, _F_a_l_s_e if it is set.
           If the reporter must print the list of media expected for the next
           run.

       rreeppoorrtt--uussee--mmeeddiiaa _b_o_o_l_e_a_n
           Default: _T_r_u_e if mmaaxx--ddllee--bbyy--vvoolluummee is not set, _F_a_l_s_e if it is set.
           If the reporter must print the list of media used in the run.

       rreeqq--ttrriieess _i_n_t
           Default: _3. How many times the server will resend a REQ packet if
           it doesn't get the ACK packet.

       rreesseerrvvee _i_n_t
           Default: _1_0_0. The part of holding-disk space that should be
           reserved for incremental backups if no tape is available, expressed
           as a percentage of the available holding-disk space (0-100). By
           default, when there is no tape to write to, degraded mode
           (incremental) backups will be performed to the holding disk. If
           full backups should also be allowed in this case, the amount of
           holding disk space reserved for incrementals should be lowered.

       rreesseerrvveedd--ttccpp--ppoorrtt _i_n_t,_i_n_t
           Default: --with-low-tcpportrange or _5_1_2_,_1_0_2_3. Reserved tcp port
           that will be used (bsdtcp). Range is inclusive.

       rreesseerrvveedd--uuddpp--ppoorrtt _i_n_t,_i_n_t
           Default: --with-udpportrange or _5_1_2_,_1_0_2_3. Reserved udp port that
           will be used (bsd, bsdudp). Range is inclusive.

       rruunnssppeerrccyyccllee _i_n_t
           Default: _s_a_m_e _a_s _d_u_m_p_c_y_c_l_e. The number of amdump runs in dduummppccyyccllee
           days. A value of 0 means the same value as dduummppccyyccllee. A value of -1
           means guess the number of runs from the ttaappeelliisstt(5) file, which is
           the number of tapes used in the last dduummppccyyccllee days / rruunnttaappeess.

       rruunnttaappeess _i_n_t
           Default: _1. The maximum number of tapes used in a single run. If a
           tape changer is not configured, this option is not used and should
           be commented out of the configuration file.

           If a tape changer is configured, this may be set larger than one to
           let Amanda write to more than one tape.

           Note that this is an upper bound on the number of tapes, and Amanda
           may use less.

       sseenndd--aammrreeppoorrtt--oonn [ aallll | ssttrraannggee | eerrrroorr | nneevveerr ]
           Default: aallll. Specify which types of messages will trigger an email
           from amreport. amreport is used by amdump and amflush.

           aallll
               Send an email on any message.

           ssttrraannggee
               Send an email on strange or error message. A strange message
               occurs when the dump succeeded, but returned one or more errors
               unknown to Amanda.

           eerrrroorr
               Send an email only on error messages.

           nneevveerr
               Never send an email.

       ssoorrtt--iinnddeexx _b_o_o_l_e_a_n
           Default: _n_o. Sort all index files, this make amrecover start faster
           on big filesystem but it require more processing at backup time.
           Changing this setting can sort all index files.

       ssttoorraaggee _s_t_r_i_n_g+
           Default: Same as the config name. The list of storages to use, the
           dump will go to theses storages.

       aaccttiivvee--ssttoorraaggee _s_t_r_i_n_g+
           Default: Same as the configured ssttoorraaggee setting and the -ostorage=
           command line setting. The list of storages where a dump can be put.
           amdump keep the dump in holding disk if the storage is not also
           listed in ssttoorraaggee

       ttaappeebbuuffss _i_n_t
           Default: _2_0. This option is deprecated; use the
           ddeevviiccee--oouuttppuutt--bbuuffffeerr--ssiizzee directive instead.  ttaappeebbuuffss works the
           same way, but the number specified is multiplied by the device
           blocksize prior to use.

       ttaappeeccyyccllee _i_n_t
           Default: _1_5 _t_a_p_e_s. Specifies the number of "active" volumes -
           volumes that Amanda will not overwrite. While Amanda is always
           willing to write to a new volume, it refuses to overwrite a volume
           unless at least 'ttaappeeccyyccllee -1' volumes have been written since.

           It is considered good administrative practice to set the ttaappeeccyyccllee
           parameter slightly lower than the actual number of tapes in use.
           This allows the administrator to more easily cope with damaged or
           misplaced tapes or schedule adjustments that call for slight
           adjustments in the rotation order.

           Note: Amanda is commonly misconfigured with ttaappeeccyyccllee equal to the
           number of tapes per dduummppccyyccllee. In this misconfiguration, amanda may
           erase a full dump before a new one is completed. Recovery is then
           impossible. The ttaappeeccyyccllee must be at least one tape larger than the
           number of tapes per dumpcycle.

           The number of tapes per dumpcycle is calculated by multiplying the
           number of aammdduummpp runs per dump cycle rruunnssppeerrccyyccllee (the number of
           aammdduummpp runs per dump cycle) and rruunnttaappeess (the number of tapes used
           per run). Typically ttaappeeccyyccllee is set to two or four times the tapes
           per dumpcycle.

       ttaappeeddeevv _s_t_r_i_n_g
           Default: _"_n_u_l_l_:_". This parameter can either specify a device
           (explicitly or by referencing a device definition - see aammaannddaa--
           ddeevviicceess(7)) or a tape changer (explicitly or by referencing a
           device definition - see aammaannddaa--cchhaannggeerrss(7)).

       ttaappeelliisstt _s_t_r_i_n_g
           Default: _"_t_a_p_e_l_i_s_t_". The file name for the active ttaappeelliisstt(5).
           Amanda maintains this file with information about the active set of
           tapes.

       ttaappeerraallggoo [ ffiirrsstt | ffiirrssttffiitt | llaarrggeesstt | llaarrggeessttffiitt | ssmmaalllleesstt | llaasstt ]
           Default: ffiirrsstt. The algorithm used to choose which dump image to
           send to the taper.

           ffiirrsstt
               First in, first out.

           ffiirrssttffiitt
               The first dump image that will fit on the current tape.

           llaarrggeesstt
               The largest dump image.

           llaarrggeessttffiitt
               The largest dump image that will fit on the current tape.

           ssmmaalllleesstt
               The smallest dump image.

           llaasstt
               Last in, first out.

       ttaappeerrfflluusshh _i_n_t
           Default: _0. At the end of a run, Amanda will start a new tape to
           flush remaining data if there is more data on the holding disk at
           the end of a run than this setting allows; the amount is specified
           as a percentage of the capacity of a single volume. In other words,
           at the end of a run, Amanda will begin a new tape if the inequality
           h > t × f is satisfied, where h is the amount of data remaining on
           the holding disk from this or previous runs, t is the capacity of a
           volume, and f is this parameter, expressed as a percentage. This
           parameter may be greater than 100%.

           The value of this parameter may not exceed that of the
           fflluusshh--tthhrreesshhoolldd--sscchheedduulleedd parameter.; aauuttoofflluusshh must be set to
           'yes' if ttaappeerrfflluusshh is greater than 0.

       ttaappeerrssccaann _s_t_r_i_n_g
           Default: traditional. The taperscan module amanda should use to
           find a tape to write to. See aammaannddaa--ttaappeerrssccaann(7) for a list of
           modules.

       ttaappeerr--ppaarraalllleell--wwrriittee _i_n_t
           Default: _1. Amanda can write simultaneously up to that number of
           volume at any given time. The changer must have as many drives.

       ttaappeettyyppee _s_t_r_i_n_g
           Default: _n_o _d_e_f_a_u_l_t. The type of tape drive associated with ttaappeeddeevv
           or ttppcchhaannggeerr. This refers to one of the defined ttaappeettyyppees in the
           config file (see below), which specify various tape parameters,
           like the lleennggtthh, ffiilleemmaarrkk size, and ssppeeeedd of the tape media and
           device.

       ttmmppddiirr _s_t_r_i_n_g
           Default: none (system default). Set it to a directory with lots of
           free space if sort in amindexd fail with 'No space left on device'.

       ttppcchhaannggeerr _s_t_r_i_n_g
           Default: not set. (deprecated) The tape changer to use. In most
           cases, only one of ttppcchhaannggeerr or ttaappeeddeevv is specified, although for
           backward compatibility both may be specified if ttppcchhaannggeerr gives the
           name of an old changer script. See aammaannddaa--cchhaannggeerrss(7) for more
           information on configuring changers.

       uunnrreesseerrvveedd--ttccpp--ppoorrtt _i_n_t,_i_n_t
           Default: --with-tcpportrange or _1_0_2_4_,_6_5_5_3_5. Unreserved tcp port
           that will be used (bsd, bsdudp). Range is inclusive.

       uusseettiimmeessttaammppss _b_o_o_l
           Default: YYeess. Deprecated, the value is always YYeess. This option
           allows Amanda to track multiple runs per calendar day.

       vvaauulltt--ssttoorraaggee _s_t_r_i_n_g+
           Default: not set. The list of storages to vault to.

           After writing to the storages listed in the ssttoorraaggee parameter,
           aammdduummpp will automatically write all pending dumps to the vault
           storage(s). (These dumps are queued for vaulting based on the vvaauulltt
           option specified in the definition section for the primary storage
           and the dduummpp--sseelleeccttiioonn option specified on the vault storage.)

           (aammvvaauulltt also uses the first storage in the vvaauulltt--ssttoorraaggee list as
           its default destination storage.)

HHOOLLDDIINNGGDDIISSKK SSEECCTTIIOONN
       The aammaannddaa..ccoonnff file may define one or more holding disks used as
       buffers to hold backup images before they are written to tape. The
       syntax is:
       define holdingdisk _n_a_m_e {
           _h_o_l_d_i_n_g_d_i_s_k_-_o_p_t_i_o_n _h_o_l_d_i_n_g_d_i_s_k_-_v_a_l_u_e
           ...
       }

       The { must appear at the end of a line, and the } on its own line.

       _N_a_m_e is a logical name for this holding disk.

       The options and values are:

       ccoommmmeenntt _s_t_r_i_n_g
           Default: not set. A comment string describing this holding disk.

       cchhuunnkkssiizzee _i_n_t
           Default: _1 _G_b. Holding disk chunk size. Dumps larger than the
           specified size will be stored in multiple holding disk files. The
           size of each chunk will not exceed the specified value. However,
           even though dump images are split in the holding disk, they are
           concatenated as they are written to tape, so each dump image still
           corresponds to a single continuous tape section.

           The default unit is Kbytes if it is not specified.

           If 0 is specified, Amanda will create holding disk chunks as large
           as ((INT_MAX/1024)-64) Kbytes.

           Each holding disk chunk includes a 32 Kbyte header, so the minimum
           chunk size is 64 Kbytes (but that would be really silly).

           Operating systems that are limited to a maximum file size of 2
           Gbytes actually cannot handle files that large. They must be at
           least one byte less than 2 Gbytes. Since Amanda works with 32 Kbyte
           blocks, and to handle the final read at the end of the chunk, the
           chunk size should be at least 64 Kbytes (2 * 32 Kbytes) smaller
           than the maximum file size, e.g. 2047 Mbytes.

       ddiirreeccttoorryy _s_t_r_i_n_g
           Default: _"_/_d_u_m_p_s_/_a_m_a_n_d_a_". The path to this holding area.

       uussee _i_n_t
           Default: _0 _G_b. Amount of space that can be used in this holding
           disk area. If the value is zero, all available space on the file
           system is used. If the value is negative, Amanda will use all
           available space minus that value.

       cchhuunnkkssiizzee _i_n_t
           Default: _1 _G_b. Holding disk chunk size. Dumps larger than the
           specified size will be stored in multiple holding disk files. The
           size of each chunk will not exceed the specified value. However,
           even though dump images are split in the holding disk, they are
           concatenated as they are written to tape, so each dump image still
           corresponds to a single continuous tape section.

           The default unit is Kbytes if it is not specified.

           If 0 is specified, Amanda will create holding disk chunks as large
           as ((INT_MAX/1024)-64) Kbytes.

           Each holding disk chunk includes a 32 Kbyte header, so the minimum
           chunk size is 64 Kbytes (but that would be really silly).

           Operating systems that are limited to a maximum file size of 2
           Gbytes actually cannot handle files that large. They must be at
           least one byte less than 2 Gbytes. Since Amanda works with 32 Kbyte
           blocks, and to handle the final read at the end of the chunk, the
           chunk size should be at least 64 Kbytes (2 * 32 Kbytes) smaller
           than the maximum file size, e.g. 2047 Mbytes.

DDUUMMPPTTYYPPEE SSEECCTTIIOONN
       The aammaannddaa..ccoonnff(5) file may define multiple sets of backup options and
       refer to them by name from the ddiisskklliisstt(5) file. For instance, one set
       of options might be defined for file systems that can benefit from high
       compression, another set that does not compress well, another set for
       file systems that should always get a full backup and so on.

       A set of backup options are entered in a dduummppttyyppee section, which looks
       like this:
       define dumptype "_n_a_m_e" {
           _d_u_m_p_t_y_p_e_-_o_p_t_i_o_n _d_u_m_p_t_y_p_e_-_v_a_l_u_e
           ...
       }

       The { must appear at the end of a line, and the } on its own line.

       _N_a_m_e is the name of this set of backup options. It is referenced from
       the ddiisskklliisstt(5) file.

       Some of the options in a dduummppttyyppee section are the same as those in the
       main part of aammaannddaa..ccoonnff(5). The main option value is used to set the
       default for all dduummppttyyppee sections. For instance, setting dduummppccyyccllee to
       50 in the main part of the config file causes all following dduummppttyyppee
       sections to start with that value, but the value may be changed on a
       section by section basis. Changes to variables in the main part of the
       config file must be done before (earlier in the file) any dduummppttyyppees are
       defined.

       The dumptype options and values are:

       aallllooww--sspplliitt _b_o_o_l
           Default: true. If true, then dumps with this dumptype can be split
           on the storage media. If false, then the dump will be written in a
           single file on the media. See "Dump Splitting Configuration" below.

       aapppplliiccaattiioonn _s_t_r_i_n_g
           No default. Must be the name of an application if _p_r_o_g_r_a_m is set to
           _A_P_P_L_I_C_A_T_I_O_N. See APPLICATION SECTION below.

       aauutthh _s_t_r_i_n_g
           Default: _"_b_s_d_t_c_p_". Type of authorization to perform between tape
           server and backup client hosts. See aammaannddaa--aauutthh(7) for more detail.

       aammaannddaadd--ppaatthh _s_t_r_i_n_g
           Default: _"_$_l_i_b_e_x_e_c_/_a_m_a_n_d_a_d_". Specify the amandad path of the
           client, only use with rsh/ssh authentification.

       bbuummppddaayyss _i_n_t
           Default: _2 _d_a_y_s. To insure redundancy in the dumps, Amanda keeps
           filesystems at the same incremental level for at least bbuummppddaayyss
           days, even if the other bump threshold criteria are met.

       bbuummppmmuulltt _f_l_o_a_t
           Default: _1_._5. The bump size multiplier. Amanda multiplies bbuummppssiizzee
           by this factor for each level. This prevents active filesystems
           from bumping too much by making it harder to bump to the next
           level. For example, with the default bbuummppssiizzee and bbuummppmmuulltt set to
           2.0, the bump threshold will be 10 Mbytes for level one, 20 Mbytes
           for level two, 40 Mbytes for level three, and so on.

       bbuummppppeerrcceenntt _i_n_t
           Default: _0. The minimum savings required to trigger an automatic
           bump from one incremental level to the next, expressed as
           percentage of the current size of the DLE (size of current level
           0). If Amanda determines that the next higher backup level will be
           this much smaller than the current level, it will do the next
           level.

           If this parameter is set to 0, the value of the parameter _b_u_m_p_s_i_z_e
           is used to trigger bumping.

           See also the options bbuummppssiizzee, bbuummppmmuulltt and bbuummppddaayyss.

       bbuummppssiizzee _i_n_t
           Default: _1_0 _M_b_y_t_e_s. The minimum savings required to trigger an
           automatic bump from one incremental level to the next, expressed as
           size. If Amanda determines that the next higher backup level will
           be this much smaller than the current level, it will do the next
           level. The value of this parameter is used only if the parameter
           _b_u_m_p_p_e_r_c_e_n_t is set to 0.

           The default unit is Kbytes if it is not specified.

           See also the options bbuummppppeerrcceenntt, bbuummppmmuulltt and bbuummppddaayyss.

       cclliieenntt--ppoorrtt [ _i_n_t | _s_t_r_i_n_g ]
           Default: _"_a_m_a_n_d_a_". Specifies the port to connect to on the client.
           It can be a service name or a numeric port number.

       cclliieenntt--ccuussttoomm--ccoommpprreessss _s_t_r_i_n_g
           Default: none. The program to use to perform
           compression/decompression on the client; used with "compress client
           custom". Must not contain whitespace. Must accept -d to uncompress.

       cclliieenntt--ddeeccrryypptt--ooppttiioonn _s_t_r_i_n_g
           Default: -d. The option that can be passed to client-encrypt to
           make it decrypt instead. Must not contain whitespace.

       cclliieenntt--eennccrryypptt _s_t_r_i_n_g
           Default: none. The program to use to perform encryption/decryption
           on the client; used with "encrypt client". Must not contain
           whitespace.

       cclliieenntt--uusseerrnnaammee _s_t_r_i_n_g
           Default: _C_L_I_E_N_T___L_O_G_I_N. Specify the username to connect on the
           client, only use with rsh/ssh authentification.

       ccoommmmeenntt _s_t_r_i_n_g
           Default: not set. A comment string describing this set of backup
           options.

       ccoommpprraattee _f_l_o_a_t [, _f_l_o_a_t ]
           Default: _0_._5_0_, _0_._5_0. The expected full and incremental compression
           factor for dumps. It is only used if Amanda does not have any
           history information on compression rates for a filesystem, so
           should not usually need to be set. However, it may be useful for
           the first time a very large filesystem that compresses very little
           is backed up.

       ccoommpprreessss [ nnoonnee | cclliieenntt | sseerrvveerr ] [ bbeesstt | ffaasstt | ccuussttoomm ]
           Default: cclliieenntt ffaasstt. If Amanda does compression of the backup
           images, it can do so either on the backup client host before it
           crosses the network or on the tape server host as it goes from the
           network into the holding disk or to tape. Which place to do
           compression (if at all) depends on how well the dump image usually
           compresses, the speed and load on the client or server, network
           capacity, holding disk capacity, availability of tape hardware
           compression, etc.

           For either type of compression, Amanda also allows the selection of
           three styles of compression.  bbeesstt is the best compression
           available, often at the expense of CPU overhead.  ffaasstt is often not
           as good a compression as bbeesstt, but usually less CPU overhead. Or to
           specify ccuussttoomm to use your own compression method. (See dumptype
           custom-compress in example/amanda.conf for reference)

           So the ccoommpprreessss options line may be one of:

           compress none

           compress client fast

           compress client best

           compress client custom
               Specify cclliieenntt--ccuussttoomm--ccoommpprreessss "PROG"

               PROG must not contain white space and it must accept -d for
               uncompress.

           compress server fast

           compress server best

           compress server custom
               Specify sseerrvveerr--ccuussttoomm--ccoommpprreessss "PROG"

               PROG must not contain white space and it must accept -d for
               uncompress.

           Note that some tape devices do compression and this option has
           nothing to do with whether that is used. If hardware compression is
           used (usually via a particular tape device name or mmtt option),
           Amanda (software) compression should be disabled.

       dduummppccyyccllee _i_n_t
           Default: _1_0 _d_a_y_s. The number of days in the backup cycle. Each disk
           using this set of options will get a full backup at least this of
           ten. Setting this to zero tries to do a full backup each run.

       dduummpp--lliimmiitt [ sseerrvveerr | ssaammee--hhoosstt ]*
           Default: sseerrvveerr. Specify which host can initiate a backup of the
           dle. With sseerrvveerr, the server can initiate a backup with the aammdduummpp
           command. With ssaammee--hhoosstt, the client can initiate a backup with the
           aammdduummpp__cclliieenntt command.

       eennccrryypptt [ nnoonnee | cclliieenntt | sseerrvveerr ]
           Default: not set. To encrypt backup images, it can do so either on
           the backup client host before it crosses the network or on the tape
           server host as it goes from the network into the holding disk or to
           tape.

           So the eennccrryypptt options line may be one of:

           encrypt none

           encrypt client
               Specify client-encrypt "PROG"

               PROG must not contain white space.

               Specify client-decrypt-option "decryption-parameter" Default:
               "-d"

               decryption-parameter must not contain white space.

               (See dumptype client-encrypt-nocomp in example/amanda.conf for
               reference)

           encrypt server
               Specify server-encrypt "PROG"

               PROG must not contain white space.

               Specify server-decrypt-option "decryption-parameter" Default:
               "-d"

               decryption-parameter must not contain white space.

               (See dumptype server-encrypt-fast in example/amanda.conf for
               reference)

           Note that current logic assumes compression then encryption during
           backup(thus decrypt then uncompress during restore). So specifying
           client-encryption AND server-compression is not supported.  _a_m_c_r_y_p_t
           which is a wrapper of _a_e_s_p_i_p_e is provided as a reference symmetric
           encryption program.

       eessttiimmaattee [ cclliieenntt | ccaallccssiizzee | sseerrvveerr ]+
           Default: cclliieenntt. Determine the way Amanda estimates the size of
           each DLE before beginning a backup. This is a list of acceptable
           estimate methods, and Amanda applies the first method supported by
           the application. The methods are:

           client
               Use the same program as the dumping program. This is the most
               accurate method to do estimates, but it can take a long time.

           calcsize
               Use a faster program to do estimates, but the result is less
               accurate.

           server
               Use only statistics from the previous few runs to give an
               estimate. This very quick, but the result is not accurate if
               your disk usage changes from day to day. If this method is
               specified, but the server does not have enough data to make an
               estimate, then the option is internally moved to the end of the
               list, thereby preferring 'client' or 'calcsize' in this case.

       eexxcclluuddee [ lliisstt | ffiillee ][[ooppttiioonnaall][aappppeenndd][ _s_t_r_i_n_g ]+]
           Default: ffiillee. Exclude is the opposite of iinncclluuddee and specifies
           files that will be excluded from the backup. The format of the
           exclude expressions depends on the application, and some
           applications do not support excluding files at all.

           There are two exclude parameters, eexxcclluuddee ffiillee and eexxcclluuddee lliisstt..
           With eexxcclluuddee ffiillee, the _s_t_r_i_n_g is an exclude expression. With
           eexxcclluuddee lliisstt , the _s_t_r_i_n_g is a file name on the client containing
           GGNNUU--ttaarr exclude expressions. The path to the specified exclude list
           file, if present (see description of 'optional' below), must be
           readable by the Amanda user.

           All exclude expressions are concatenated in one file and passed to
           the application as an ----eexxcclluuddee--ffrroomm argument.

           For GGNNUU--ttaarr, exclude expressions must always be specified as
           relative to the top-level directory of the DLE, and must start with
           "./". See the manpages for individual applications for more
           information on supported exclude expressions.

           With the aappppeenndd keyword, the _s_t_r_i_n_g is appended to the current
           list, without it, the _s_t_r_i_n_g overwrites the list.

           If ooppttiioonnaall is specified for eexxcclluuddee lliisstt, then amcheck will not
           complain if the file doesn't exist or is not readable.

           For eexxcclluuddee lliisstt, if the file name is relative, the disk name being
           backed up is prepended. So if this is entered:
               exclude list ".amanda.excludes"
           the actual file used would be /var/.amanda.excludes for a backup of
           /var, /usr/local/.amanda.excludes for a backup of /usr/local, and
           so on.

       ffaallllbbaacckk--sspplliittssiizzee _i_n_t
           Deprecated. See "Dump Splitting Configuration" below.

           Default: _1_0_M. This specifies the part size used when no
           sspplliitt--ddiisskkbbuuffffeerr is specified, or when it is too small or does not
           exist, and thus the maximum amount of memory consumed for in-memory
           splitting. The default unit is Kbytes if it is not specified.

       hhoollddiinnggddiisskk [ nneevveerr | aauuttoo | rreeqquuiirreedd ]
           Default: aauuttoo. Whether a holding disk should be used for these
           backups or whether they should go directly to tape. If the holding
           disk is a portion of another file system that Amanda is backing up,
           that file system should refer to a dumptype with hhoollddiinnggddiisskk set to
           _n_e_v_e_r to avoid backing up the holding disk into itself.

           nneevveerr|no|false|off
               Never use a holdingdisk, the dump will always go directly to
               tape. There will be no dump if you have a tape error.

           aauuttoo|yes|true|on
               Use the holding disk, unless there is a problem with the
               holding disk, the dump won't fit there or the medium doesn't
               require spooling (e.g., VFS device)

           rreeqquuiirreedd
               Always dump to holdingdisk, never directly to tape. There will
               be no dump if it doesn't fit on holdingdisk

       iiggnnoorree _b_o_o_l_e_a_n
           Default: nnoo. Whether disks associated with this backup type should
           be backed up or not. This option is useful when the _d_i_s_k_l_i_s_t file
           is shared among several configurations, some of which should not
           back up all the listed file systems.

       iinncclluuddee [ lliisstt | ffiillee ][[ooppttiioonnaall][aappppeenndd][ _s_t_r_i_n_g ]+]
           Default: ffiillee ".". There are two include lists, iinncclluuddee ffiillee and
           iinncclluuddee lliisstt..  With iinncclluuddee ffiillee , the _s_t_r_i_n_g is a glob expression.
           With iinncclluuddee lliisstt , the _s_t_r_i_n_g is a file name on the client
           containing glob expressions.

           All include expressions are expanded by Amanda, concatenated in one
           file and passed to GGNNUU--ttaarr as a ----ffiilleess--ffrroomm argument. They must
           start with "./" and contain no other "/".

           Include expressions must always be specified as relative to the
           head directory of the DLE.

               NNoottee
               For globbing to work at all, even the limited single level, the
               top level directory of the DLE must be readable by the Amanda
               user.
           With the aappppeenndd keyword, the _s_t_r_i_n_g is appended to the current
           list, without it, the _s_t_r_i_n_g overwrites the list.

           If ooppttiioonnaall is specified for iinncclluuddee lliisstt, then amcheck will not
           complain if the file doesn't exist or is not readable.

           For iinncclluuddee lliisstt, If the file name is relative, the disk name being
           backed up is prepended.

       iinnddeexx _b_o_o_l_e_a_n
           Default: nnoo. Whether an index (catalogue) of the backup should be
           generated and saved in iinnddeexxddiirr. These catalogues are used by the
           aammrreeccoovveerr utility.

       kkeennccrryypptt _b_o_o_l_e_a_n
           Default: nnoo. Whether the backup image should be encrypted by
           Kerberos as it is sent across the network from the backup client
           host to the tape server host.

       mmaaxxdduummppss _i_n_t
           Default: _1. The maximum number of backups from a single host that
           Amanda will attempt to run in parallel. See also the main section
           parameter iinnppaarraalllleell.

       mmaaxxpprroommootteeddaayy _i_n_t
           Default: _1_0_0_0_0. The maximum number of day for a promotion, set it 0
           if you don't want promotion, set it to 1 or 2 if your disks get
           overpromoted.

       mmaaxx--wwaarrnniinnggss _i_n_t
           Default: _2_0. The maximum number of error lines in the report for a
           dle. A value of '0' means unlimited. This is useful to reduce the
           size of the log file and the size of the report. All errors are put
           in separate files if a dle have more errors.

       pprriioorriittyy [ llooww | mmeeddiiuumm | hhiigghh ]
           Default: mmeeddiiuumm. When there is no tape to write to, Amanda will do
           incremental backups in priority order to the holding disk. The
           priority may be high (2), medium (1), low (0) or a number of your
           choice.

       pprrooggrraamm [ ""DDUUMMPP"" | ""GGNNUUTTAARR"" | ""AAPPPPLLIICCAATTIIOONN"" ]
           Default: _"_D_U_M_P_". The type of backup to perform. Valid values are:

           ""DDUUMMPP""
               The native operating system backup program.

           ""GGNNUUTTAARR""
               To use GNU-tar or to do PC backups using Samba.

           ""AAPPPPLLIICCAATTIIOONN""
               To use an application, see the _a_p_p_l_i_c_a_t_i_o_n option.

       pprrooppeerrttyy [aappppeenndd] [ hhiiddddeenn | vviissiibbllee ] _s_t_r_i_n_g _s_t_r_i_n_g+
           These options can set various properties, they can be used by third
           party software to store information in the configuration file. Both
           strings are quoted; the first string contains the name of the
           property to set, and the others contains its values.  aappppeenndd
           keyword append the values to the list of values for that property.

           With hhiiddddeenn (the default), the property are not put in the amanda
           dump header and in the log/debug files. With vviissiibbllee, they are put
           in the amanda dump header and in the log/debug files. Use hhiiddddeenn if
           the property must be kept secret.

       rreeccoorrdd _b_o_o_l_e_a_n
           Default: yyeess. Whether to ask the backup program to update its
           database (e.g.  /etc/dumpdates for DUMP or
           /usr/local/var/amanda/gnutar-lists for GNUTAR) of time stamps. This
           is normally enabled for daily backups and turned off for periodic
           archival runs.

       rreeccoovveerryy--lliimmiitt [ sseerrvveerr | ssaammee--hhoosstt | _s_t_r_i_n_g ]*
           Default: global value. This parameter overrides the global
           rreeccoovveerryy--lliimmiitt parameter for DLEs of this dumptype.

       rreettrryy--dduummpp _i_n_t
           Default: 22. The number of times a backup is tried in case of
           failure.

       ssccrriipptt _s_t_r_i_n_g
           No default. Must be the name of a script. You can have many script.
           See SCRIPT SECTION below.

       sseerrvveerr--ccuussttoomm--ccoommpprreessss _s_t_r_i_n_g
           Default: none. The program to use to perform
           compression/decompression on the server; used with "compress server
           custom". Must not contain whitespace. Must accept -d to uncompress.

       sseerrvveerr--ddeeccrryypptt--ooppttiioonn _s_t_r_i_n_g
           Default: -d. The option that can be passed to server-encrypt to
           make it decrypt instead. Must not contain whitespace.

       sseerrvveerr--eennccrryypptt _s_t_r_i_n_g
           Default: none. The program to use to perform encryption/decryption
           on the server; used with "encrypt server". Must not contain
           whitespace.

       sskkiipp--ffuullll _b_o_o_l_e_a_n
           Default: nnoo. If ttrruuee and ppllaannnneerr has scheduled a full backup, these
           disks will be skipped, and full backups should be run off-line on
           these days. It was reported that Amanda only schedules level 1
           incrementals in this configuration; this is probably a bug.

       sskkiipp--iinnccrr _b_o_o_l_e_a_n
           Default: nnoo. If ttrruuee and ppllaannnneerr has scheduled an incremental
           backup, these disks will be skipped.

       sspplliitt--ddiisskkbbuuffffeerr _s_t_r_i_n_g

           Deprecated. See "Dump Splitting Configuration" below.  Default: not
           set. When dumping a split dump in PORT-WRITE mode (usually meaning
           "no holding disk"), buffer the split chunks to a file in the
           directory specified by this option.

       sssshh--kkeeyyss _s_t_r_i_n_g
           Default: not set. The key file the ssh auth will use, it must be
           the private key. If this parameter is not specified, then the
           default ssh key will be used.

       ssttaarrttttiimmee _i_n_t
           Default: not set. Backup of these disks will not start until after
           this time of day. The value should be hh*100+mm, e.g. 6:30PM
           (18:30) would be entered as 1830.

       ssttrraatteeggyy [ ssttaannddaarrdd | nnooffuullll | nnooiinncc | sskkiipp | iinnccrroonnllyy ]
           Default: ssttaannddaarrdd. Strategy to use when planning what level of
           backup to run next. Values are:

           ssttaannddaarrdd
               The standard Amanda schedule.

           nnooffuullll
               Never do full backups, only level 1 incrementals.

           nnooiinncc
               Never do incremental backups, only full dumps.

           sskkiipp
               Treat this DLE as if it doesn't exist (useful to disable DLEs
               when sharing the _d_i_s_k_l_i_s_t file between multiple
               configurations). Skipped DLEs will not be checked or dumped,
               and will not be matched by disklist expressions.

           iinnccrroonnllyy
               Only do incremental dumps.  aammaaddmmiinn ffoorrccee should be used to
               tell Amanda that a full dump has been performed off-line, so
               that it resets to level 1.

       ttaagg [aappppeenndd] _s_t_r_i_n_g*
           Default: no default. Specify the tags that match the dump-selection
           of a storage.

       ttaappee--sspplliittssiizzee _i_n_t
           Deprecated. See "Dump Splitting Configuration" below.

           Default: not set. Split dump file on tape into pieces of a
           specified size. The default unit is Kbytes if it is not specified.

       The following dduummppttyyppee entries are predefined by Amanda:
       define dumptype "no-compress" {
           compress none
       }
       define dumptype "compress-fast" {
           compress client fast
       }
       define dumptype "compress-best" {
           compress client best
       }
       define dumptype "srvcompress" {
           compress server fast
       }
       define dumptype "bsd-auth" {
           auth "bsd"
       }
       define dumptype "bsdtcp-auth" {
           auth "bsdtcp"
       }
       define dumptype "no-record" {
           record no
       }
       define dumptype "no-hold" {
           holdingdisk no
       }
       define dumptype "no-full" {
           skip-full yes
       }

       In addition to options in a dduummppttyyppee section, one or more other
       dduummppttyyppee names may be supplied as identifiers, which make this dduummppttyyppee
       inherit options from other previously defined dduummppttyyppees. For instance,
       two sections might be the same except for the rreeccoorrdd option:
       define dumptype "normal" {
           comment "Normal backup, no compression, do indexing"
           no-compress
           index yes
           maxdumps 2
       }
       define dumptype "testing" {
           comment "Test backup, no compression, do indexing, no recording"
           "normal"
           record no
       }

       Amanda provides a dduummppttyyppee named _g_l_o_b_a_l in the sample aammaannddaa..ccoonnff file
       that all dduummppttyyppees should reference. This provides an easy place to
       make changes that will affect every dduummppttyyppee, although you must be
       careful that every dumptype explicitly inherits from the _g_l_o_b_a_l
       dumptype - Amanda does not do so automatically.

TTAAPPEETTYYPPEE SSEECCTTIIOONN
       The aammaannddaa..ccoonnff file may define multiple types of tape media and
       devices. The information is entered in a ttaappeettyyppee section, which looks
       like this in the config file:
       define tapetype "_n_a_m_e" {
           _t_a_p_e_t_y_p_e_-_o_p_t_i_o_n _t_a_p_e_t_y_p_e_-_v_a_l_u_e
           ...
       }

       The { must appear at the end of a line, and the } on its own line.

       _N_a_m_e is the name of this type of tape medium/device. It is referenced
       from the ttaappeettyyppee option in the main part of the config file.

       The tapetype options and values are:

       bblloocckkssiizzee _i_n_t
           Default: _3_2 _k_b_y_t_e_s. How much data will be written in each tape
           record, expressed in kbytes. This is similar to the _B_L_O_C_K___S_I_Z_E
           device property, but if the blocksize is not a multiple of 1024
           bytes, then this parameter cannot be used to specify it, and the
           property must be used instead.

       ccoommmmeenntt _s_t_r_i_n_g
           Default: not set. A comment string describing this set of tape
           information.

       ffiilleemmaarrkk _i_n_t
           Default: _1 _k_b_y_t_e_s. How large a file mark (tape mark) is, measured
           in kbytes. If the size is only known in some linear measurement
           (e.g. inches), convert it to kbytes using the device density.

       llbbll--tteemmppll _s_t_r_i_n_g
           Default: not set. A PostScript template file used by aammrreeppoorrtt to
           generate labels. Several sample files are provided with the Amanda
           sources in the _e_x_a_m_p_l_e directory. See the aammrreeppoorrtt(8) man page for
           more information.

       lleennggtthh _i_n_t
           Default: _2_0_0_0 _k_b_y_t_e_s. How much data will fit on a tape, expressed
           in kbytes.

           Note that this value is only used by Amanda to schedule which
           backups will be run. Once the backups start, Amanda will continue
           to write to a tape until it gets an error, regardless of what value
           is entered for lleennggtthh (but see aammaannddaa--ddeevviicceess(7) for exceptions).

       ppaarrtt--ccaacchhee--ddiirr _s_t_r_i_n_g
           Default: none. The directory in which part-cache files can be
           written when caching on disk. See "Dump Splitting Configuration"
           below.

       ppaarrtt--ccaacchhee--mmaaxx--ssiizzee _i_n_t
           Default: none. The maximum part size to use when caching is in
           effect. This is used to limit the part size when disk or memory
           space for caching is constrained. This value must be greater than
           zero.

       ppaarrtt--ccaacchhee--ttyyppee [ nnoonnee | ddiisskk | mmeemmoorryy ]
           Default: none. When part caching is required, this parameter
           specifies the type of caching that will be used. The options
           include no caching (nnoonnee), in which case a failed part will cause
           the entire dump to fail; on-disk caching (ddiisskk), for which
           ppaarrtt--ccaacchhee--ddiirr must be set properly; and in-memory caching
           (mmeemmoorryy), which on most systems severely restrains the size of the
           part that can be written. See "Dump Splitting Configuration" below.

       ppaarrtt--ssiizzee _i_n_t
           If this is set to zero (default), then no splitting will take
           place, and the entire dump will fail, if end-of-medium is
           encountered before the dump is complete, unless the device property
           LEOM is true, and the device can detect EOM. See "Dump Splitting
           Configuration" below.

       rreeaaddbblloocckkssiizzee _i_n_t
           Default: _3_2 _k_y_t_e_s How much data will be read in each tape record.
           This can be used to override a device's block size for reads only.
           This may be useful, for example, in reading a tape written with a
           256k block size when Amanda is configured to use 128k blocks. This
           unusual feature is not supported by all operating systems and tape
           devices.

           The default unit is Kbytes if it is not specified.

       ssppeeeedd _i_n_t
           Default: _2_0_0 _b_p_s. How fast the drive will accept data, in bytes per
           second. This parameter is NOT currently used by Amanda.

       In addition to options, another ttaappeettyyppee name may be supplied as an
       identifier, which makes this ttaappeettyyppee inherit options from another
       ttaappeettyyppee. For instance, the only difference between a DLT4000 tape
       drive using Compact-III tapes and one using Compact-IV tapes is the
       length of the tape. So they could be entered as:
       define tapetype "DLT4000-III" {
           comment "DLT4000 tape drives with Compact-III tapes"
           length 12500 mbytes         # 10 Gig tapes with some compression
           filemark 2000 kbytes
           speed 1536 kps
       }
       define tapetype "DLT4000-IV" {
           "DLT4000-III"
           comment "DLT4000 tape drives with Compact-IV tapes"
           length 25000 mbytes         # 20 Gig tapes with some compression
       }

IINNTTEERRFFAACCEE SSEECCTTIIOONN
       The aammaannddaa..ccoonnff file may define multiple types of network interfaces.
       The information is entered in an iinntteerrffaaccee section, which looks like
       this:
       define interface "_n_a_m_e" {
           _i_n_t_e_r_f_a_c_e_-_o_p_t_i_o_n _i_n_t_e_r_f_a_c_e_-_v_a_l_u_e
           ...
       }

       The { must appear at the end of a line, and the } on its own line.

       _n_a_m_e is the name of this type of network interface. It is referenced
       from the _d_i_s_k_l_i_s_t file.

       If a ssrrcc--iipp is specified, then the connection should be from an
       interface with that IP. The system decide which interface to use if
       ssrrcc--iipp is not specified. You can add route at the system level to do
       more specific routing.

       The section do not impose limits on the bandwidth that will actually be
       taken up by Amanda. Amanda computes the estimated bandwidth each file
       system backup will take based on the estimated size and time, then
       compares that plus any other running backups with the limit as another
       of the criteria when deciding whether to start the backup. Once a
       backup starts, Amanda will use as much of the network as it can leaving
       throttling up to the operating system and network hardware.

       The interface options and values are:

       ccoommmmeenntt _s_t_r_i_n_g
           Default: not set. A comment string describing this set of network
           information.

       ssrrcc--iipp _s_t_r_i_n_g
           The IP address to use when sending a request to an amanda client.

       uussee _i_n_t
           Default: _8_0_0_0_0 _K_b_p_s. The speed of the interface in Kbytes per
           second.

       In addition to options, another iinntteerrffaaccee name may be supplied as an
       identifier, which makes this iinntteerrffaaccee inherit options from another
       iinntteerrffaaccee. At the moment, this is of little use.

AAPPPPLLIICCAATTIIOONN SSEECCTTIIOONN
       The aammaannddaa..ccoonnff file may define multiple types of application. The
       information is entered in a aapppplliiccaattiioonn section, which looks like this:
       define application "_n_a_m_e" {
           _a_p_p_l_i_c_a_t_i_o_n_-_o_p_t_i_o_n _a_p_p_l_i_c_a_t_i_o_n_-_v_a_l_u_e
           ...
       }

       The { must appear at the end of a line, and the } on its own line.

       _n_a_m_e is the name of this type of application. It is referenced from the
       _d_u_m_p_t_y_p_e

       The application options and values are:

       cclliieenntt--nnaammee _s_t_r_i_n_g
           No default, specifies an application name that is in the
           amanda-client.conf on the client. The setting from that application
           will be merged with the current application. If cclliieenntt--nnaammee is set
           then it is an error if that application is not defined on the
           client.

           If cclliieenntt--nnaammee is not set then the merge is done with the
           application that have the name equal to the plugin. eg. if the
           plugin is 'amgtar', then the setting from the application 'amgtar'
           is used if it is defined.

       ccoommmmeenntt _s_t_r_i_n_g
           Default: not set. A comment string describing this application.

       pplluuggiinn _s_t_r_i_n_g
           No default. Must be set to the name of the program. This program
           must be in the _$_l_i_b_e_x_e_c_d_i_r_/_a_m_a_n_d_a_/_a_p_p_l_i_c_a_t_i_o_n directory on the
           client.

       pprrooppeerrttyy [aappppeenndd] [pprriioorriittyy] _s_t_r_i_n_g _s_t_r_i_n_g+
           No default. You can set property for the application, each
           application have a different set of property. Both strings are
           quoted; the first string contains the name of the property to set,
           and the others contains its values.  aappppeenndd keyword append the
           values to the list of values for that property.  pprriioorriittyy keyword
           disallow the setting of that property on the client.

SSCCRRIIPPTT SSEECCTTIIOONN
       The aammaannddaa..ccoonnff file may define multiple types of script. The
       information is entered in a ssccrriipptt section, which looks like this:
       define script "_n_a_m_e" {
           _s_c_r_i_p_t_-_o_p_t_i_o_n _s_c_r_i_p_t_-_v_a_l_u_e
           ...
       }

       The { must appear at the end of a line, and the } on its own line.

       _n_a_m_e is the name of this type of script. It is referenced from the
       _d_u_m_p_t_y_p_e

       The script options and values are:

       cclliieenntt--nnaammee _s_t_r_i_n_g
           No default, specifies a script name that is in the
           amanda-client.conf on the client. The setting from that script will
           be merged with the currect script. If cclliieenntt--nnaammee is set then it is
           an error if that script is not defined on the client.

           If cclliieenntt--nnaammee is not set then the merge is done with the script
           that have the name equal to the plugin. eg. if the plugin is
           'amlog-script', then the setting from the script 'amlog-script' is
           used.

       ccoommmmeenntt _s_t_r_i_n_g
           Default: not set. A comment string describing this script.

       eexxeeccuuttee--oonn _e_x_e_c_u_t_e___o_n [,_e_x_e_c_u_t_e___o_n]*
           No default. When the script must be executed, you can specify many
           of them:

           pprree--aammcchheecckk
               Execute before the amcheck command for all dle. Can only be run
               on server.

           pprree--ddllee--aammcchheecckk
               Execute before the amcheck command for the dle.

           pprree--hhoosstt--aammcchheecckk
               Execute before the amcheck command for all dle for the client.

           ppoosstt--aammcchheecckk
               Execute after the amcheck command for all dle. Can only be run
               on server.

           ppoosstt--ddllee--aammcchheecckk
               Execute after the amcheck command for the dle.

           ppoosstt--hhoosstt--aammcchheecckk
               Execute after the amcheck command for all dle for the client.

           pprree--eessttiimmaattee
               Execute before the estimate command for all dle. Can only be
               run on server.

           pprree--ddllee--eessttiimmaattee
               Execute before the estimate command for the dle.

           pprree--hhoosstt--eessttiimmaattee
               Execute before the estimate command for all dle for the client.

           ppoosstt--eessttiimmaattee
               Execute after the estimate command for all dle. Can only be run
               on server.

           ppoosstt--ddllee--eessttiimmaattee
               Execute after the estimate command for the dle.

           ppoosstt--hhoosstt--eessttiimmaattee
               Execute after the estimate command for all dle for the client.

           pprree--bbaacckkuupp
               Execute before the backup command for all dle. Can only be run
               on server.

           pprree--ddllee--bbaacckkuupp
               Execute before the backup command for the dle.

           pprree--hhoosstt--bbaacckkuupp
               Execute before the backup command for all dle for the client.
               It can't be run on client, it must be run on server

           ppoosstt--bbaacckkuupp
               Execute after the backup command for all dle. Can only be run
               on server.

           ppoosstt--ddllee--bbaacckkuupp
               Execute after the backup command for the dle.

           ppoosstt--hhoosstt--bbaacckkuupp
               Execute after the backup command for all dle for the client. It
               can't be run on client, it must be run on server

           pprree--rreeccoovveerr
               Execute before any level is recovered.

           ppoosstt--rreeccoovveerr
               Execute after all levels are recovered.

           pprree--lleevveell--rreeccoovveerr
               Execute before each level recovery.

           ppoosstt--lleevveell--rreeccoovveerr
               Execute after each level recovery.

           iinntteerr--lleevveell--rreeccoovveerr
               Execute between two levels of recovery.

           If you recover level 0 and 2 of the disk /usr with amrecover, it
           will execute:
           script --pre-recover
           script --pre-level-recover --level 0
           #recovering level 0
           script --post-level-recover --level 0
           script --inter-level-recover --level 0 --level 2
           script --pre-level-recover --level 2
           #recovering level 2
           script --post-level-recover --level 2
           script --post-recover

       eexxeeccuuttee--wwhheerree [ cclliieenntt | sseerrvveerr ]
           Default: cclliieenntt. Where the script must be executed, on the client
           or server.

       oorrddeerr _i_n_t
           Default: _5_0_0_0. Scripts are executed in that order, it is useful if
           you have many scripts and they must be executed in a spefific
           order.

       pplluuggiinn _s_t_r_i_n_g
           No default. Must be set to the name of the program. This program
           must be in the _$_l_i_b_e_x_e_c_d_i_r_/_a_m_a_n_d_a_/_a_p_p_l_i_c_a_t_i_o_n directory on the
           client and/or server.

       pprrooppeerrttyy [aappppeenndd] [pprriioorriittyy] _s_t_r_i_n_g _s_t_r_i_n_g+
           No default. You can set property for the script, each script have a
           different set of property. Both strings are quoted; the first
           string contains the name of the property to set, and the others
           contains its values.  aappppeenndd keyword append the values to the list
           of values for that property.  pprriioorriittyy keyword disallow the setting
           of that property on the client.

       ssiinnggllee--eexxeeccuuttiioonn _b_o_o_l_e_a_n
           Default: _n_o. The script is executed for each dle. If _y_e_s, the
           script is executed one time only.

DDEEVVIICCEE SSEECCTTIIOONN
       Backend storage devices are specified in aammaannddaa..ccoonnff in the form of
       "device" sections, which look like this:
       define device _n_a_m_e {
           comment "_c_o_m_m_e_n_t _(_o_p_t_i_o_n_a_l_)"
           tapedev "_d_e_v_i_c_e_-_s_p_e_c_i_f_i_e_r"
           device-property "_p_r_o_p_-_n_a_m_e" "_p_r_o_p_-_v_a_l_u_e"
           ...
       }

       The { must appear at the end of a line, and the } on its own line.

       _n_a_m_e is the user-specified name of this device. It is referenced from
       the global _t_a_p_e_d_e_v parameter. The _d_e_v_i_c_e_-_s_p_e_c_i_f_i_e_r specifies the device
       name to use; see aammaannddaa--ddeevviicceess(7). As with most sections, the _c_o_m_m_e_n_t
       parmeter is optional and only for the user's convenience.

       An arbitrary number of _d_e_v_i_c_e_-_p_r_o_p_e_r_t_y parameters can be specified.
       Again, see aammaannddaa--ddeevviicceess(7) for information on device properties.

CCHHAANNGGEERR SSEECCTTIIOONN
       Changers are described in aammaannddaa..ccoonnff in the form of "changer"
       sections, which look like this:
       define changer _n_a_m_e {
           comment "_c_o_m_m_e_n_t _(_o_p_t_i_o_n_a_l_)"
           tpchanger "_c_h_a_n_g_e_r_-_s_p_e_c"
           changerdev "_d_e_v_i_c_e_-_n_a_m_e"
           changerfile "_s_t_a_t_e_-_f_i_l_e"
           ...
       }

       The { must appear at the end of a line, and the } on its own line.

       _n_a_m_e is the user-specified name of this device. The remaining
       parameters are specific to the changer type selected.

       The tpchanger and changerfile can use '$t' to substitute the name of
       the changer.

       See aammaannddaa--cchhaannggeerrss(7) for more information on configuring changers.

IINNTTEERRAACCTTIIVVIITTYY SSEECCTTIIOONN
       The aammaannddaa..ccoonnff file may define multiple interactivyt methods, although
       only one will be used - that specified by the iinntteerraaccttiivviittyy parameter.
       The information is entered in a iinntteerraaccttiivviittyy section, which looks like
       this:
       define interactivity _n_a_m_e {
           _i_n_t_e_r_a_c_t_i_v_i_t_y_-_o_p_t_i_o_n _i_n_t_e_r_a_c_t_i_v_i_t_y_-_v_a_l_u_e
           ...
       }

       The { must appear at the end of a line, and the } on its own line.

       _n_a_m_e is the user-specified name of this interactivity. The remaining
       parameters are specific to the interactivity type selected.

       The interactivity options and values are:

       ccoommmmeenntt _s_t_r_i_n_g
           Default: not set. A comment string describing this interactivity.

       pplluuggiinn _s_t_r_i_n_g
           No default. Must be set to the name of the interactivity module, as
           described in aammaannddaa--iinntteerraaccttiivviittyy(7).

       pprrooppeerrttyy [aappppeenndd] _s_t_r_i_n_g _s_t_r_i_n_g+
           No default. You can set arbitrary properties for the interactivity.
           Each interactivity module has a different set of properties. The
           first string contains the name of the property to set, and the
           others contains its values. All strings should be quoted. The
           aappppeenndd keyword appends the given values to an existing list of
           values for that property.

       See aammaannddaa--iinntteerraaccttiivviittyy(7) for more information on configuring
       interactivity methods.

TTAAPPEERRSSCCAANN SSEECCTTIIOONN
       The aammaannddaa..ccoonnff file may define multiple taperscan methods, it is set
       with the global ttaappeerrssccaann parameter or in the storage section. The
       information is entered in a ttaappeerrssccaann section, which looks like this:
       define taperscan _n_a_m_e {
           _t_a_p_e_r_s_c_a_n_-_o_p_t_i_o_n _t_a_p_e_r_s_c_a_n_-_v_a_l_u_e
           ...
       }

       The { must appear at the end of a line, and the } on its own line.

       _n_a_m_e is the user-specified name of this taperscan. The remaining
       parameters are specific to the taperscan type selected.

       The taperscan options and values are:

       ccoommmmeenntt _s_t_r_i_n_g
           Default: not set. A comment string describing this taperscan.

       pplluuggiinn _s_t_r_i_n_g
           No default. Must be set to the name of the taperscan module. See
           aammaannddaa--ttaappeerrssccaann(7) for a list of defined taperscan modules.

       pprrooppeerrttyy [aappppeenndd] _s_t_r_i_n_g _s_t_r_i_n_g+
           No default. Operates just like properties for interactivity
           methods, above.

       See aammaannddaa--ttaappeerrssccaann(7) for more information on configuring taperscan.

PPOOLLIICCYY SSEECCTTIIOONN
       The aammaannddaa..ccoonnff file may define multiple policy, it is set with the
       ppoolliiccyy parameter of the storage section. A policy name CONFIG_NAME is
       automaticaly created. The information is entered in a ppoolliiccyy section,
       which looks like this:
       define policy _n_a_m_e {
           _p_o_l_i_c_y_-_o_p_t_i_o_n _p_o_l_i_c_y_-_v_a_l_u_e
           ...
       }

       The { must appear at the end of a line, and the } on its own line.

       _n_a_m_e is the user-specified name of this policy. The remaining
       parameters are specific to the policy type selected.

       The policy options and values are:

       ccoommmmeenntt _s_t_r_i_n_g
           Default: not set. A comment string describing this policy.

       rreetteennttiioonn--ddaayyss _i_n_t
           Default: 0. A volume is kept for that number of days before it can
           be reused.

       rreetteennttiioonn--ffuullll _i_n_t
           Default: 0. A volume is kept if it contains a FULL not older then
           rreetteennttiioonn--ffuullll days.

       rreetteennttiioonn--rreeccoovveerr _i_n_t
           Default: 0. Keep all volumes needed to recover all files up to
           rreetteennttiioonn--rreeccoovveerr days ago, if it was a level 2, also keep previous
           level 1 and level 0.

       rreetteennttiioonn--ttaappeess _i_n_t
           Default: global tapecycle-1. The latest used rreetteennttiioonn--ttaappeess volume
           can't be reused. You must have more than rreetteennttiioonn--ttaappeess volumes
           before a volume can be re-used.

SSTTOORRAAGGEE SSEECCTTIIOONN
       The aammaannddaa..ccoonnff file may define multiple storage, the default storages
       are set with the ssttoorraaggee parameter. The vaulting storage are set with
       the the vvaauulltt--ssttoorraaggee parameter. A storage name CONFIG_NAME is created
       if the global ssttoorraaggee is not set. The information is entered in a
       ssttoorraaggee section, which looks like this:
       define storage _n_a_m_e {
           _s_t_o_r_a_g_e_-_o_p_t_i_o_n _s_t_o_r_a_g_e_-_v_a_l_u_e
           ...
       }

       The { must appear at the end of a line, and the } on its own line.

       _n_a_m_e is the user-specified name of this storage. The remaining
       parameters are specific to the storage type selected.

       The storage options and values are:

       aauuttoofflluusshh nnoo|yyeess|aallll
           Default: value of the global aauuttoofflluusshh.

       aauuttoollaabbeell _s_t_r_i_n_g [aannyy] [ootthheerr--ccoonnffiigg] [nnoonn--aammaannddaa] [vvoolluummee--eerrrroorr]
       [eemmppttyy]
           Default: value of the global aauuttoollaabbeell.

       ccoommmmeenntt _s_t_r_i_n_g
           Default: not set. A comment string describing this storage.

       ddeevviiccee--oouuttppuutt--bbuuffffeerr--ssiizzee _i_n_t
           Default: value of the global ddeevviiccee--oouuttppuutt--bbuuffffeerr--ssiizzee.

       dduummpp--sseelleeccttiioonn [_s_t_r_i_n_g | AALLLL] [ AALLLL | FFUULLLL | IINNCCRR ]
           Default: no default. The dump-selection specify which dump will be
           written to the storage. The first field is the tag, either it is
           AALLLL and all DLEs matches or it is a tag string and a dle match only
           if it have that tag. The second field is the level, it can be AALLLL
           for all level, FFUULLLL for level 0 only or IINNCCRR for level > 0 only.

       eejjeecctt--vvoolluummee _b_o_o_l
           Default: value of the global eejjeecctt--vvoolluummee.

       eerraassee--oonn--ffaaiilluurree _b_o_o_l
           Default: NNOO. Automatically erase a volume if nothing useful was
           written to it. This is useful to reuse the volume sooner.

       eerraassee--oonn--ffuullll _b_o_o_l
           Default: NNOO. Automatically erase a no-retention volume if the vtape
           area become full.

       eerraassee--vvoolluummee _b_o_o_l
           Default: NNOO. Automatically erase the volume when the policy expire.
           This is useful to free space on vtape or s3 devices or to allow
           another storage to use that volume.

       fflluusshh--tthhrreesshhoolldd--dduummppeedd _i_n_t
           Default: value of the global fflluusshh--tthhrreesshhoolldd--dduummppeedd.

       fflluusshh--tthhrreesshhoolldd--sscchheedduulleedd _i_n_t
           Default: value of the global fflluusshh--tthhrreesshhoolldd--sscchheedduulleedd.

       iinntteerraaccttiivviittyy _s_t_r_i_n_g
           Default: value of the global iinntteerraaccttiivviittyy.

       llaabbeellssttrr _s_t_r_i_n_g
           Default: value of the global llaabbeellssttrr.

       mmaaxx--ddllee--bbyy--vvoolluummee _i_n_t
           Default: value of the global mmaaxx--ddllee--bbyy--vvoolluummee.

       mmeettaa--aauuttoollaabbeell _s_t_r_i_n_g
           Default: value of the global mmeettaa--aauuttoollaabbeell.

       ppoolliiccyy _s_t_r_i_n_g
           Default: CONFIG_NAME. Define the policy to use.

       rreeppoorrtt--nneexxtt--mmeeddiiaa _b_o_o_l_e_a_n
           Default: value of the global rreeppoorrtt--nneexxtt--mmeeddiiaa.

       rreeppoorrtt--uussee--mmeeddiiaa _b_o_o_l_e_a_n
           Default: value of the global rreeppoorrtt--uussee--mmeeddiiaa.

       rruunnttaappeess _i_n_t
           Default: value of the global rruunnttaappeess.

       sseett--nnoo--rreeuussee _b_o_o_l
           Default: nnoo. If set to yyeess, a volume is marked as nnoo--rreeuussee after it
           is written.

       ttaappeeddeevv _s_t_r_i_n_g
           Default: value of the global ttaappeeddeevv.

           This parameter can either specify a device (explicitly or by
           referencing a device definition - see aammaannddaa--ddeevviicceess(7)) or a tape
           changer (explicitly or by referencing a device definition - see
           aammaannddaa--cchhaannggeerrss(7)).

       ttaappeeppooooll _s_t_r_i_n_g
           Default: CONFIG_NAME. Some characters are substituted:

               $o : org configuration
               $c : config name
               $r : storage name

       ttaappeerraallggoo [ ffiirrsstt | ffiirrssttffiitt | llaarrggeesstt | llaarrggeessttffiitt | ssmmaalllleesstt | llaasstt ]
           Default: value of the global ttaappeerraallggoo.

       ttaappeerrfflluusshh _i_n_t
           Default: value of the global ttaappeerrfflluusshh.

       ttaappeerrssccaann _s_t_r_i_n_g
           Default: value of the global ttaappeerrssccaann.

       ttaappeerr--ppaarraalllleell--wwrriittee _i_n_t
           Default: value of the global ttaappeerr--ppaarraalllleell--wwrriittee.

       ttaappeettyyppee _s_t_r_i_n_g
           Default: value of the global ttaappeettyyppee.

       ttppcchhaannggeerr _s_t_r_i_n_g
           Default: value of the global ttppcchhaannggeerr.

       vvaauulltt _s_t_o_r_a_g_e _i_n_t
           Will vault all dumps from this storage to the new storage X days
           after the dumps. You can have multiple vault entry.

DDUUMMPP SSPPLLIITTTTIINNGG CCOONNFFIIGGUURRAATTIIOONN
       Amanda can "split" dumps into parts while writing them to storage
       media. This allows Amanda to recover gracefully from a failure while
       writing a part to a volume, by simply selecting a new volume and
       re-writing the dump from the beginning of the failed part. Parts also
       allow Amanda to seek directly to the required data, although this
       functionality is not yet used.

       In order to support re-writing from the beginning of a failed part,
       Amanda must have access to the contents of the part after it has been
       partially written. If the dump is being read from holding disk, then
       the part contents are available there. Otherwise, the part must be
       cached, and this can be done memory or on disk. In either of the latter
       cases, the cache must have enough space to hold an entire part.

       Because it is common for a single Amanda configuration to use both
       holding-disk (FILE-WRITE) and direct (known as PORT-WRITE) dumps,
       Amanda allows the configuration of different split sizes for the two
       cases. This allows, for example, for a part size appropriate to large
       tapes when performing FILE-WRITE dumps, with a part size limited by
       available disk or memory when performing PORT-WRITE dumps.

       Selecting a proper split size is a delicate matter. If the parts are
       too large, substantial storage space may be wasted in failed parts. If
       too small, large dumps will be split into innumerable tiny dumpfiles,
       adding to restoration complexity; furthermore, an excess of filemarks
       will cause slower tape drive operation and reduce the usable space on
       tape. A good rule of thumb is 1/10 of the size of a volume of storage
       media.

       In versions of Amanda through 3.1.*, splitting was controlled by the
       dumptype parameters ttaappee--sspplliittssiizzee, sspplliitt--ddiisskkbbuuffffeerr, and
       ffaallllbbaacckk--sspplliittssiizzee. These keywords had confusing and non-intuitive
       interactions, and have since been deprecated.

       If the deprecated keywords are not present, subsequent versions of
       Amanda use the dumptype parameter aallllooww--sspplliitt to control whether a DLE
       can be split, and the _t_a_p_e_t_y_p_e parameters ppaarrtt--ssiizzee, ppaarrtt--ccaacchhee--ttyyppee,
       ppaarrtt--ccaacchhee--ddiirr, and ppaarrtt--ccaacchhee--mmaaxx--ssiizzee. The ppaarrtt--ssiizzee specifies the
       "normal" part size, while the ppaarrtt--ccaacchhee--** parameters describe how to
       behave when caching is required (on PORT-WRITE). Full details on these
       parameters are given above.

SSEEEE AALLSSOO
       aammaannddaa(8), aammaannddaa--aapppplliiccaattiioonnss(7), aammaannddaa--aauutthh(7), aammaannddaa--cchhaannggeerrss(7),
       aammaannddaa--cclliieenntt..ccoonnff(5), aammaannddaa--ccoommmmaanndd--ffiillee(5), aammaannddaa--ddeevviicceess(7),
       aammaannddaa--iinntteerraaccttiivviittyy(7), aammaannddaa--ssccrriippttss(7), aammaannddaa--ttaappeerrssccaann(7),
       aammggeettccoonnff(8), aammaaddmmiinn(8)

       The Amanda Wiki: : http://wiki.zmanda.com/

AAUUTTHHOORRSS
       JJaammeess ddaa SSiillvvaa <jds@amanda.org>

       SStteeffaann GG.. WWeeiicchhiinnggeerr <sgw@amanda.org>

Amanda 3.5.1                      11/30/2017                    AMANDA.CONF(5)
